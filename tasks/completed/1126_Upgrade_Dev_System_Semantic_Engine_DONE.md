# Task 1126: Upgrade _dev-system to Semantic Engine (100% Accuracy)

## Objective
**Role:** Systems Architect / Rust Developer
**Goal:** Transition the `_dev-system` analyzer from regex-based heuristics to a 100% accurate Semantic Engine using AST analysis and inference feedback loops.
**Optimal State:** Advisory tasks generated by the system are semantically precise, symbol-aware, and historically stable.

## Tasks

### 1. üå≤ AST Integration (Precision Analysis)
- [ ] Integrate `tree-sitter` or a similar AST parser into `_dev-system/analyzer/src/drivers`.
- [ ] Replace `bracket_stack` counting with actual **Cyclomatic Complexity** and **Scope Depth** calculations.
- [ ] Ensure `Drag` scores are 100% accurate to the logical structure of ReScript and Rust files.

### 2. üè∑Ô∏è Semantic Hotspotting (Symbol Awareness)
- [ ] Modify the task generator to resolve line ranges into **Symbol Names** (e.g., "Function: `onUpdate`").
- [ ] Update the `Surgical` work unit to include the symbol name in the generated Markdown task.
- [ ] Ensure 100% accuracy in identifying "what" to refactor without line-number drift issues.

### 3. üìâ Inference Feedback Loop (Real-world Accuracy)
- [ ] Implement a parser for `FAILURE_REPORT.md` and test logs within the analyzer.
- [ ] Add a "Failure Weight" to the Drag formula that penalizes files where agents have recently failed.
- [ ] Ensure the system prioritizes refactoring tasks for "Problematic" files that cause actual dev-cycle friction.

### 4. üõ°Ô∏è Stability & Memory Guard (Reliability)
- [ ] Create `_dev-system/analyzer_state.json` to persist the history of structural recommendations.
- [ ] Implement a "Stability Lock" to prevent rapid "Merge/Split" cycles on the same modules.
- [ ] Ensure 100% reliability in the architectural advice provided across multiple scanning sessions.

## üìê Verification
- [ ] Run `./_dev-system.sh` and verify that `Sidebar.res` hotspots now reference function names instead of line numbers.
- [ ] Verify that no "Zombie Tasks" or conflicting structural tasks are generated.
